# Runs 46-50

## Run 46: `95487d41fe` - PR #30705 "rc-type-test" - VALIDATION SUCCESS

| Field | Value |
|-------|-------|
| **Run Number** | 46 |
| **Upstream SHA** | `95487d41fe` |
| **Our Commit** | `e5a813775e` |
| **PR** | #30705 |
| **Description** | Add rcParam type stub tests |
| **Workflow Run** | [21453644302](https://github.com/andreas16700/matplotlib/actions/runs/21453644302) |
| **Status** | **failure** |
| **Duration** | 33m42s |
| **Upstream Status** | **failure** |

### Test Results
- **Python 3.11 on macos-14**: 1 failed, 5205 passed, 1393 skipped
- **Python 3.12 on macos-14**: 1 failed, 5205 passed, 1393 skipped
- **Python 3.13 on macos-15**: 1 failed, 5205 passed, 1393 skipped

**Failed test**: `lib/matplotlib/tests/test_typing.py::test_rcparam_stubs`
```
AssertionError: assert {'agg.path.ch...d_limit', ...} == {'agg.path.ch...d_limit', ...}
```

### ezmon Test Selection
```
ezmon: changed files: 64, unchanged files: 214, environment: default
```

ezmon correctly detected changes to:
- `lib/matplotlib/typing.py` - Added new rcParam type stubs
- `lib/matplotlib/tests/test_typing.py` - Renamed from test_cm_stubs.py, added new test

### Git Diff (upstream code changes: Run 45 → Run 46)

Changes to:
- `lib/matplotlib/typing.py` - Added `axes3d.depthshade*` rcParams to type stubs
- `lib/matplotlib/tests/test_cm_stubs.py` → `test_typing.py` - Renamed and added `test_rcparam_stubs`

### Upstream Comparison (macOS variants only)

| Variant | Upstream | Ours |
|---------|----------|------|
| Python 3.11 macos-14 | **failure** | **failure** |
| Python 3.12 macos-14 | **failure** | **failure** |
| Python 3.13 macos-15 | **failure** | **failure** |

### VALIDATION SUCCESS

**This run validates ezmon's test selection:**

1. **ezmon correctly detected the code changes** - 64 files affected by typing.py changes
2. **ezmon selected the relevant tests** - including `test_rcparam_stubs`
3. **The test failure matches upstream exactly** - same AssertionError about rcParam mismatches
4. **No false negatives** - ezmon did NOT miss this regression

This demonstrates that ezmon correctly identifies tests that need to run based on code changes, and catches regressions that would fail in production CI.

---

## Run 47: `89aa37129f` - PR #30813 "legend-linstyle-hint" - Regression Fix Confirmed

| Field | Value |
|-------|-------|
| **Run Number** | 47 |
| **Upstream SHA** | `89aa37129f` |
| **Our Commit** | `ddcb86b11e` |
| **PR** | #30813 |
| **Description** | Add legend.linewidth to rcParam type stubs |
| **Workflow Run** | [21454692209](https://github.com/andreas16700/matplotlib/actions/runs/21454692209) |
| **Status** | success |
| **Duration** | 33m |
| **Upstream Status** | success (macOS) |

### Test Results
- **Python 3.11 on macos-14**: 5205 passed, 1393 skipped, 29 xfailed, 2 xpassed
- **Python 3.12 on macos-14**: 5205 passed, 1393 skipped, 30 xfailed, 1 xpassed
- **Python 3.13 on macos-15**: 5205 passed, 1393 skipped, 30 xfailed, 1 xpassed

### ezmon Test Selection
```
ezmon: changed files: 63, unchanged files: 215, environment: default
```

All variants reported consistent file counts (63 changed).

### Git Diff (upstream code changes: Run 46 → Run 47)

```diff
diff --git a/lib/matplotlib/typing.py b/lib/matplotlib/typing.py
--- a/lib/matplotlib/typing.py
+++ b/lib/matplotlib/typing.py
@@ -370,6 +370,7 @@ RcKeyType: TypeAlias = Literal[
     "legend.handletextpad",
     "legend.labelcolor",
     "legend.labelspacing",
+    "legend.linewidth",
     "legend.loc",
```

Single line addition: `legend.linewidth` rcParam type stub.

### Git Diff (code parity: our commit vs upstream)
```bash
$ git diff 89aa37129f ddcb86b11e -- '*.py' '*.pyi' | wc -l
0
```
Code parity verified.

### Upstream Comparison (macOS variants only)

| Variant | Upstream | Ours |
|---------|----------|------|
| Python 3.11 macos-14 | success | success |
| Python 3.12 macos-14 | success | success |
| Python 3.13 macos-15 | success | success |

### Analysis

**This run confirms ezmon correctly tracks regression fixes:**

1. **Run 46 failed** because `test_rcparam_stubs` detected missing rcParam type stubs
2. **Run 47 adds the missing `legend.linewidth`** rcParam to typing.py
3. **ezmon selected the same test suite** (63 changed files, including typing.py)
4. **The test now passes** - demonstrating the fix is complete

This validates that ezmon:
- Maintains test selection consistency across related commits
- Correctly identifies when regressions are fixed
- Doesn't have false negatives for incremental fixes

---

## Run 48: `ac2fc0e9c9` - PR #30814 "doc-discouraged-colormaps"

| Field | Value |
|-------|-------|
| **Run Number** | 48 |
| **Upstream SHA** | `ac2fc0e9c9` |
| **Our Commit** | `6f62134737` |
| **PR** | #30814 |
| **Description** | DOC: Document discouraged colormaps |
| **Workflow Run** | [21455793679](https://github.com/andreas16700/matplotlib/actions/runs/21455793679) |
| **Status** | success |
| **Duration** | 4m |
| **Upstream Status** | success (macOS) |

### Test Results
- **All variants**: 2 skipped

### ezmon Test Selection
```
ezmon: changed files: 0, unchanged files: 278, environment: default
```

All variants reported 0 changed files - correct for documentation-only changes.

### Git Diff (upstream code changes: Run 47 → Run 48)

Gallery example changes only (no library code):
- `galleries/examples/color/colormap_reference.py` - Document discouraged colormaps
- `galleries/users_explain/colors/colormaps.py` - Document discouraged colormaps

### Git Diff (code parity: our commit vs upstream)
```bash
$ git diff ac2fc0e9c9 6f62134737 -- '*.py' '*.pyi' | wc -l
0
```
Code parity verified.

### Upstream Comparison (macOS variants only)

| Variant | Upstream | Ours |
|---------|----------|------|
| Python 3.11 macos-14 | success | success |
| Python 3.12 macos-14 | success | success |
| Python 3.13 macos-15 | success | success |

### Analysis

Documentation-only change - ezmon correctly detected no library code changes and skipped all tests.

---

## Run 49: `1ee5922c1a` - PR #30816 "RST doc fix"

| Field | Value |
|-------|-------|
| **Run Number** | 49 |
| **Upstream SHA** | `1ee5922c1a` |
| **Our Commit** | `b72b4663b9` |
| **PR** | #30816 |
| **Description** | RST documentation fix |
| **Workflow Run** | [21456011650](https://github.com/andreas16700/matplotlib/actions/runs/21456011650) |
| **Status** | success |
| **Duration** | 6m |
| **Upstream Status** | success (macOS) |

### Test Results
- **All variants**: 2 skipped

### ezmon Test Selection
```
ezmon: changed files: 0, unchanged files: 278, environment: default
```

All variants reported 0 changed files - correct for RST documentation-only changes.

### Git Diff (upstream code changes: Run 48 → Run 49)

RST documentation change only (no Python code):
- `galleries/users_explain/figure/api_interfaces.rst` - Minor text fix

### Git Diff (code parity: our commit vs upstream)
```bash
$ git diff 1ee5922c1a b72b4663b9 -- '*.py' '*.pyi' | wc -l
0
```
Code parity verified.

### Upstream Comparison (macOS variants only)

| Variant | Upstream | Ours |
|---------|----------|------|
| Python 3.11 macos-14 | success | success |
| Python 3.12 macos-14 | success | success |
| Python 3.13 macos-15 | success | success |

### Analysis

RST documentation-only change - ezmon correctly detected no library code changes and skipped all tests.

---

## Run 50: `6c2d9e81df` - PR #30817 "sg-header"

| Field | Value |
|-------|-------|
| **Run Number** | 50 |
| **Upstream SHA** | `6c2d9e81df` |
| **Our Commit** | `5745cc84af` |
| **PR** | #30817 |
| **Description** | Sphinx gallery header update |
| **Workflow Run** | [21456283736](https://github.com/andreas16700/matplotlib/actions/runs/21456283736) |
| **Status** | success |
| **Duration** | 4m |
| **Upstream Status** | success (macOS) |

### Test Results
- **All variants**: 3 skipped

### ezmon Test Selection
```
ezmon: changed files: lib/matplotlib/tests/test_doc.py, unchanged files: 277, environment: default
```

All variants correctly detected the changed test file.

### Git Diff (upstream code changes: Run 49 → Run 50)

Changes to:
- `doc/conf.py` - Minor text change (remove period from gallery header)
- `lib/matplotlib/tests/test_doc.py` - Update sphinx_gallery version check (0.16.0 → 0.20.0) and matching text

### Git Diff (code parity: our commit vs upstream)
```bash
$ git diff 6c2d9e81df 5745cc84af -- '*.py' '*.pyi' | wc -l
0
```
Code parity verified.

### Upstream Comparison (macOS variants only)

| Variant | Upstream | Ours |
|---------|----------|------|
| Python 3.11 macos-14 | success | success |
| Python 3.12 macos-14 | success | success |
| Python 3.13 macos-15 | success | success |

### Analysis

ezmon correctly detected the change to `lib/matplotlib/tests/test_doc.py`. The test was skipped because the sphinx_gallery version check (now 0.20.0) is not met. This demonstrates:
- ezmon correctly identifies changed test files
- Test skipping works as expected when version requirements aren't met

---
